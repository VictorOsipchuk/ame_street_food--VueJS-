<template>
  <header class="header">
    <div class="header-logo">
      <router-link to="/">
        <svg
          width="204"
          height="94"
          viewBox="0 0 204 94"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M5.824 23.792C7.984 22.832 10.624 22.04 13.744 21.416C16.912 20.792 20.176 20.48 23.536 20.48C26.176 20.48 28.384 20.792 30.16 21.416C31.984 22.04 33.424 22.952 34.48 24.152C35.536 25.304 36.28 26.72 36.712 28.4C37.192 30.032 37.432 31.856 37.432 33.872C37.432 36.32 37.336 38.744 37.144 41.144C36.952 43.544 36.856 46.088 36.856 48.776C36.856 50.6 36.976 52.376 37.216 54.104C37.456 55.832 37.84 57.488 38.368 59.072H30.16L28.504 53.456H27.64C26.392 55.136 24.808 56.576 22.888 57.776C20.968 58.976 18.496 59.576 15.472 59.576C13.648 59.576 11.968 59.312 10.432 58.784C8.944 58.256 7.648 57.512 6.544 56.552C5.488 55.544 4.648 54.368 4.024 53.024C3.448 51.68 3.16 50.216 3.16 48.632C3.16 44.36 4.576 41.144 7.408 38.984C10.288 36.776 14.632 35.672 20.44 35.672C21.784 35.672 23.128 35.792 24.472 36.032C25.816 36.224 26.752 36.368 27.28 36.464C27.424 35.456 27.496 34.592 27.496 33.872C27.496 32.048 27.04 30.704 26.128 29.84C25.216 28.976 23.512 28.544 21.016 28.544C18.712 28.544 16.456 28.832 14.248 29.408C12.088 29.936 10.168 30.608 8.488 31.424L5.824 23.792ZM19 51.512C21.256 51.512 23.056 50.984 24.4 49.928C25.744 48.872 26.728 47.768 27.352 46.616V42.296C27.112 42.2 26.728 42.104 26.2 42.008C25.72 41.912 25.168 41.816 24.544 41.72C23.968 41.624 23.368 41.552 22.744 41.504C22.168 41.456 21.64 41.432 21.16 41.432C18.568 41.432 16.648 41.912 15.4 42.872C14.152 43.784 13.528 44.936 13.528 46.328C13.528 48.056 14.008 49.352 14.968 50.216C15.976 51.08 17.32 51.512 19 51.512ZM63.9353 59V39.272C63.9353 35.624 63.5513 33.008 62.7833 31.424C62.0153 29.84 60.4313 29.048 58.0313 29.048C56.0153 29.048 54.4073 29.552 53.2073 30.56C52.0073 31.52 51.0713 32.792 50.3993 34.376V59H40.3193V21.2H48.0953L49.2473 26.456H50.1833C50.8073 25.64 51.5273 24.848 52.3433 24.08C53.1593 23.312 54.0473 22.64 55.0073 22.064C56.0153 21.488 57.1193 21.032 58.3193 20.696C59.5673 20.312 60.9593 20.12 62.4953 20.12C65.0393 20.12 67.1513 20.696 68.8313 21.848C70.5593 22.952 71.9273 24.824 72.9353 27.464C74.3273 25.16 76.0073 23.36 77.9753 22.064C79.9913 20.768 82.3193 20.12 84.9593 20.12C87.2633 20.12 89.2073 20.384 90.7913 20.912C92.4233 21.44 93.7433 22.352 94.7513 23.648C95.7593 24.944 96.4793 26.696 96.9113 28.904C97.3913 31.112 97.6313 33.872 97.6313 37.184V59H87.5513V38.768C87.5513 37.184 87.4793 35.792 87.3353 34.592C87.1913 33.392 86.9033 32.384 86.4713 31.568C86.0393 30.704 85.4153 30.08 84.5993 29.696C83.8313 29.264 82.7993 29.048 81.5033 29.048C79.4873 29.048 77.8553 29.576 76.6073 30.632C75.4073 31.64 74.5433 33.056 74.0153 34.88V59H63.9353ZM132.798 55.544C131.166 56.792 128.934 57.872 126.102 58.784C123.318 59.648 120.318 60.08 117.102 60.08C110.622 60.08 105.87 58.304 102.846 54.752C99.8222 51.2 98.3102 46.328 98.3102 40.136C98.3102 33.56 100.014 28.592 103.422 25.232C106.83 21.824 111.63 20.12 117.822 20.12C119.838 20.12 121.83 20.384 123.798 20.912C125.766 21.392 127.518 22.232 129.054 23.432C130.59 24.584 131.814 26.168 132.726 28.184C133.686 30.152 134.166 32.6 134.166 35.528C134.166 36.536 134.094 37.64 133.95 38.84C133.854 40.04 133.662 41.288 133.374 42.584H108.174C108.414 45.848 109.35 48.272 110.982 49.856C112.662 51.392 115.374 52.16 119.118 52.16C121.374 52.16 123.39 51.848 125.166 51.224C126.99 50.552 128.382 49.88 129.342 49.208L132.798 55.544ZM117.678 28.04C114.702 28.04 112.494 28.856 111.054 30.488C109.614 32.072 108.774 34.112 108.534 36.608H124.806C124.998 33.968 124.518 31.88 123.366 30.344C122.214 28.808 120.318 28.04 117.678 28.04Z"
            fill="url(#paint0_linear)"
          />
          <line
            y1="-2"
            x2="198.01"
            y2="-2"
            transform="matrix(0.999998 0.00199111 -0.00273515 0.999996 0 70.8165)"
            stroke="url(#paint1_linear)"
            stroke-width="4"
          />
          <path
            d="M62.646 88.776C62.646 88.3213 62.4553 87.962 62.074 87.698C61.6927 87.434 61.216 87.192 60.644 86.972C60.0867 86.752 59.478 86.532 58.818 86.312C58.158 86.092 57.542 85.7987 56.97 85.432C56.4127 85.0653 55.9433 84.6033 55.562 84.046C55.1807 83.4887 54.99 82.7627 54.99 81.868C54.99 81.1053 55.122 80.438 55.386 79.866C55.6647 79.2793 56.046 78.8027 56.53 78.436C57.0287 78.0547 57.6227 77.7687 58.312 77.578C59.016 77.3873 59.786 77.292 60.622 77.292C61.59 77.292 62.5067 77.38 63.372 77.556C64.252 77.7173 64.9707 77.952 65.528 78.26L64.494 80.988C64.318 80.8853 64.0907 80.7827 63.812 80.68C63.548 80.5627 63.24 80.4673 62.888 80.394C62.536 80.306 62.162 80.24 61.766 80.196C61.37 80.1373 60.9667 80.108 60.556 80.108C59.8227 80.108 59.2507 80.24 58.84 80.504C58.444 80.7533 58.246 81.1053 58.246 81.56C58.246 82.0147 58.4367 82.3813 58.818 82.66C59.1993 82.924 59.6687 83.1733 60.226 83.408C60.798 83.628 61.414 83.8553 62.074 84.09C62.734 84.31 63.3427 84.6033 63.9 84.97C64.472 85.322 64.9487 85.7693 65.33 86.312C65.7113 86.8547 65.902 87.5513 65.902 88.402C65.902 89.2527 65.7553 89.986 65.462 90.602C65.1687 91.218 64.7507 91.7313 64.208 92.142C63.68 92.538 63.042 92.8313 62.294 93.022C61.546 93.2127 60.7247 93.308 59.83 93.308C59.2287 93.308 58.6567 93.2713 58.114 93.198C57.586 93.1393 57.0947 93.066 56.64 92.978C56.1853 92.8753 55.782 92.7727 55.43 92.67C55.0927 92.5527 54.8213 92.4427 54.616 92.34L55.694 89.59C55.8553 89.678 56.0753 89.7733 56.354 89.876C56.6473 89.9787 56.97 90.0813 57.322 90.184C57.674 90.272 58.048 90.3453 58.444 90.404C58.8547 90.4627 59.2653 90.492 59.676 90.492C60.644 90.492 61.3773 90.3527 61.876 90.074C62.3893 89.7953 62.646 89.3627 62.646 88.776ZM79.9423 80.46H75.0583V93H71.8023V80.46H66.9183V77.6H79.9423V80.46ZM81.6409 77.754C81.9929 77.6953 82.3743 77.644 82.7849 77.6C83.2103 77.5413 83.6356 77.4973 84.0609 77.468C84.4863 77.4387 84.8969 77.4167 85.2929 77.402C85.7036 77.3873 86.0776 77.38 86.4149 77.38C87.1923 77.38 87.9549 77.446 88.7029 77.578C89.4656 77.71 90.1403 77.9373 90.7269 78.26C91.3283 78.5827 91.8123 79.03 92.1789 79.602C92.5456 80.1593 92.7289 80.8633 92.7289 81.714C92.7289 82.9753 92.4136 84.0167 91.7829 84.838C91.1669 85.6447 90.3089 86.1947 89.2089 86.488L90.3749 87.17L94.2249 93H90.4409L86.6129 87.038L84.8969 86.774V93H81.6409V77.754ZM86.6349 80.24C86.2976 80.24 85.9676 80.2473 85.6449 80.262C85.3369 80.262 85.0876 80.284 84.8969 80.328V84.574H86.2829C87.2069 84.574 87.9329 84.398 88.4609 84.046C89.0036 83.694 89.2749 83.0853 89.2749 82.22C89.2749 81.5747 89.0476 81.0833 88.5929 80.746C88.1383 80.4087 87.4856 80.24 86.6349 80.24ZM95.9925 77.6H105.915V80.46H99.2485V83.804H105.299V86.664H99.2485V90.14H106.025V93H95.9925V77.6ZM108.453 77.6H118.375V80.46H111.709V83.804H117.759V86.664H111.709V90.14H118.485V93H108.453V77.6ZM132.772 80.46H127.888V93H124.632V80.46H119.748V77.6H132.772V80.46ZM140.551 77.6H150.473V80.46H143.807V84.046H149.945V86.906H143.807V93H140.551V77.6ZM152.118 85.3C152.118 84.0387 152.28 82.9093 152.602 81.912C152.925 80.9147 153.387 80.0787 153.988 79.404C154.604 78.7147 155.352 78.194 156.232 77.842C157.112 77.4753 158.11 77.292 159.224 77.292C160.412 77.292 161.446 77.49 162.326 77.886C163.221 78.2673 163.962 78.81 164.548 79.514C165.15 80.218 165.597 81.0613 165.89 82.044C166.198 83.0267 166.352 84.112 166.352 85.3C166.352 86.5613 166.184 87.6907 165.846 88.688C165.524 89.6853 165.054 90.5287 164.438 91.218C163.822 91.8927 163.074 92.4133 162.194 92.78C161.314 93.132 160.324 93.308 159.224 93.308C158.036 93.308 156.995 93.1173 156.1 92.736C155.22 92.34 154.48 91.79 153.878 91.086C153.292 90.382 152.852 89.5387 152.558 88.556C152.265 87.5733 152.118 86.488 152.118 85.3ZM155.572 85.3C155.572 86.0627 155.646 86.7593 155.792 87.39C155.939 88.0207 156.159 88.5633 156.452 89.018C156.746 89.4727 157.12 89.8247 157.574 90.074C158.044 90.3233 158.594 90.448 159.224 90.448C160.383 90.448 161.285 90.052 161.93 89.26C162.576 88.468 162.898 87.148 162.898 85.3C162.898 84.5667 162.832 83.8847 162.7 83.254C162.568 82.6233 162.348 82.0807 162.04 81.626C161.747 81.1567 161.366 80.7973 160.896 80.548C160.442 80.284 159.884 80.152 159.224 80.152C158.08 80.152 157.186 80.5627 156.54 81.384C155.895 82.2053 155.572 83.5107 155.572 85.3ZM168.103 85.3C168.103 84.0387 168.264 82.9093 168.587 81.912C168.909 80.9147 169.371 80.0787 169.973 79.404C170.589 78.7147 171.337 78.194 172.217 77.842C173.097 77.4753 174.094 77.292 175.209 77.292C176.397 77.292 177.431 77.49 178.311 77.886C179.205 78.2673 179.946 78.81 180.533 79.514C181.134 80.218 181.581 81.0613 181.875 82.044C182.183 83.0267 182.337 84.112 182.337 85.3C182.337 86.5613 182.168 87.6907 181.831 88.688C181.508 89.6853 181.039 90.5287 180.423 91.218C179.807 91.8927 179.059 92.4133 178.179 92.78C177.299 93.132 176.309 93.308 175.209 93.308C174.021 93.308 172.979 93.1173 172.085 92.736C171.205 92.34 170.464 91.79 169.863 91.086C169.276 90.382 168.836 89.5387 168.543 88.556C168.249 87.5733 168.103 86.488 168.103 85.3ZM171.557 85.3C171.557 86.0627 171.63 86.7593 171.777 87.39C171.923 88.0207 172.143 88.5633 172.437 89.018C172.73 89.4727 173.104 89.8247 173.559 90.074C174.028 90.3233 174.578 90.448 175.209 90.448C176.367 90.448 177.269 90.052 177.915 89.26C178.56 88.468 178.883 87.148 178.883 85.3C178.883 84.5667 178.817 83.8847 178.685 83.254C178.553 82.6233 178.333 82.0807 178.025 81.626C177.731 81.1567 177.35 80.7973 176.881 80.548C176.426 80.284 175.869 80.152 175.209 80.152C174.065 80.152 173.17 80.5627 172.525 81.384C171.879 82.2053 171.557 83.5107 171.557 85.3ZM184.637 77.6C184.96 77.556 185.326 77.5193 185.737 77.49C186.162 77.4607 186.595 77.4387 187.035 77.424C187.49 77.4093 187.93 77.402 188.355 77.402C188.78 77.3873 189.162 77.38 189.499 77.38C190.966 77.38 192.22 77.578 193.261 77.974C194.317 78.3553 195.175 78.8907 195.835 79.58C196.51 80.2693 197.001 81.0907 197.309 82.044C197.617 82.9973 197.771 84.0387 197.771 85.168C197.771 86.1947 197.617 87.192 197.309 88.16C197.016 89.128 196.532 89.9933 195.857 90.756C195.182 91.504 194.302 92.1053 193.217 92.56C192.132 93.0147 190.797 93.242 189.213 93.242C188.964 93.242 188.619 93.2347 188.179 93.22C187.754 93.2053 187.306 93.1833 186.837 93.154C186.382 93.1393 185.95 93.1173 185.539 93.088C185.143 93.0733 184.842 93.0513 184.637 93.022V77.6ZM189.741 80.24C189.404 80.24 189.059 80.2473 188.707 80.262C188.355 80.262 188.084 80.2767 187.893 80.306V90.294C187.966 90.3087 188.076 90.3233 188.223 90.338C188.384 90.338 188.546 90.3453 188.707 90.36C188.883 90.36 189.044 90.3673 189.191 90.382C189.352 90.382 189.47 90.382 189.543 90.382C190.482 90.382 191.259 90.2353 191.875 89.942C192.491 89.6487 192.975 89.26 193.327 88.776C193.694 88.292 193.95 87.742 194.097 87.126C194.244 86.51 194.317 85.872 194.317 85.212C194.317 84.6693 194.251 84.1047 194.119 83.518C193.987 82.9313 193.745 82.396 193.393 81.912C193.056 81.428 192.594 81.032 192.007 80.724C191.42 80.4013 190.665 80.24 189.741 80.24Z"
            fill="#2DC7C9"
          />
          <defs>
            <linearGradient
              id="paint0_linear"
              x1="99.5"
              y1="0"
              x2="99.5"
              y2="79"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#3E0661" />
              <stop offset="1" stop-color="#61118F" />
            </linearGradient>
            <linearGradient
              id="paint1_linear"
              x1="99.0051"
              y1="0"
              x2="99.0051"
              y2="1"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#2B0445" />
              <stop offset="1" stop-color="#500C78" />
            </linearGradient>
          </defs>
        </svg>
      </router-link>
    </div>
    <div class="header-links">
      <a href="#" class="link-item">{{ 'DeliveryTitle' | localize }}</a>
      <a href="#" class="link-item">{{ 'Contacts' | localize }}</a>
      <a href="#" class="link-item">{{ 'AboutUs' | localize }}</a>
      <a href="#" class="link-item">{{ 'Media' | localize }}</a>
    </div>
    <div class="header-cart">
      <router-link to="/cart">
        <div class="cart">
          <div class="cart-bill">{{ cartTotalCost }} ₴</div>
          <div class="cart-length">
            <svg
              class="svg-cart"
              width="18"
              height="18"
              viewBox="0 0 18 18"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M6.33333 16.3333C7.06971 16.3333 7.66667 15.7364 7.66667 15C7.66667 14.2636 7.06971 13.6667 6.33333 13.6667C5.59695 13.6667 5 14.2636 5 15C5 15.7364 5.59695 16.3333 6.33333 16.3333Z"
                stroke="white"
                stroke-width="1.8"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M14.3333 16.3333C15.0697 16.3333 15.6667 15.7364 15.6667 15C15.6667 14.2636 15.0697 13.6667 14.3333 13.6667C13.597 13.6667 13 14.2636 13 15C13 15.7364 13.597 16.3333 14.3333 16.3333Z"
                stroke="white"
                stroke-width="1.8"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
              <path
                d="M4.78002 4.99999H16.3334L15.2134 10.5933C15.1524 10.9003 14.9854 11.176 14.7417 11.3722C14.4979 11.5684 14.1929 11.6727 13.88 11.6667H6.83335C6.50781 11.6694 6.1925 11.553 5.94689 11.3393C5.70128 11.1256 5.54233 10.8295 5.50002 10.5067L4.48669 2.82666C4.44466 2.50615 4.28764 2.21182 4.04482 1.99844C3.80201 1.78505 3.48994 1.66715 3.16669 1.66666H1.66669"
                stroke="white"
                stroke-width="1.8"
                stroke-linecap="round"
                stroke-linejoin="round"
              />
            </svg>
            {{ cartTotalCount }}
          </div>
        </div>
      </router-link>
    </div>

    <div class="header-cart-profile">
      <ul class="right hide-on-small-and-down">
        <li>
          <a
            class="dropdown-trigger profile black-text"
            :class="this.info ? 'blue lighten-3' : 'profile'"
            href="#"
            data-target="dropdown"
            ref="dropdown"
          >
            <div class="svg-profile">
              <svg
                width="30px"
                height="30px"
                viewBox="0 0 24 24"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M11.9848 15.3462C8.11719 15.3462 4.81433 15.931 4.81433 18.2729C4.81433 20.6148 8.09624 21.2205 11.9848 21.2205C15.8524 21.2205 19.1543 20.6348 19.1543 18.2938C19.1543 15.9529 15.8734 15.3462 11.9848 15.3462Z"
                  stroke="#130F26"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
                <path
                  opacity="0.4"
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M11.9848 12.0059C14.5229 12.0059 16.58 9.94779 16.58 7.40969C16.58 4.8716 14.5229 2.81445 11.9848 2.81445C9.44667 2.81445 7.38858 4.8716 7.38858 7.40969C7.38001 9.93922 9.42382 11.9973 11.9524 12.0059H11.9848Z"
                  stroke="#130F26"
                  stroke-width="1.5"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
            </div>
            <div class="title-profile">
              <div v-if="info">{{ info.name }}</div>
              <div v-else>{{ 'Login' | localize }}</div>
            </div>
          </a>

          <ul id="dropdown" class="dropdown-content dropcont">
            <li v-if="!info">
              <a href="#modal_login" class="black-text modal-trigger">
                <i class="material-icons">account_circle</i>
                {{ 'Login' | localize }}
              </a>
            </li>
            <li class="divider" tabindex="-1"></li>
            <li v-if="!info">
              <a href="#modal_reg" class="black-text modal-trigger">
                <i class="material-icons">assignment_return</i
                >{{ 'Registration' | localize }}
              </a>
            </li>
            <li class="divider" tabindex="-1"></li>
            <li v-if="info">
              <router-link to="/profile" class="black-text">
                <i class="material-icons">assignment_return</i
                >{{ 'ProfileTitle' | localize }}
              </router-link>
            </li>
            <li class="divider" tabindex="-1"></li>
            <li v-if="info">
              <router-link to="/orders" class="black-text">
                <i class="material-icons">assignment_return</i
                >{{ 'Orders' | localize }}
              </router-link>
            </li>
            <li class="divider" tabindex="-1"></li>
            <li v-if="info">
              <a href="#" class="black-text" @click.prevent="logout">
                <i class="material-icons">assignment_return</i
                >{{ 'Logout' | localize }}
              </a>
            </li>
          </ul>
        </li>
      </ul>
      <div class="header-settings">
        <a
          class="dropdown-trigger"
          href="#"
          data-target="settings_dropdown"
          ref="settings_dropdown"
        >
          <svg
            class="svg-settings"
            width="30px"
            heigth="30px"
            fill="#ccc"
            viewBox="0 0 128 128"
            xmlns="http://www.w3.org/2000/svg"
          >
            <title />
            <path
              d="M64,39A25,25,0,1,0,89,64,25,25,0,0,0,64,39Zm0,44A19,19,0,1,1,83,64,19,19,0,0,1,64,83Z"
            />
            <path
              d="M121,48h-8.93a1,1,0,0,1-.94-.68,49.9,49.9,0,0,0-2-4.85,1,1,0,0,1,.18-1.15L115.62,35a7,7,0,0,0,0-9.9L102.89,12.38a7,7,0,0,0-9.9,0l-6.31,6.31a1,1,0,0,1-1.15.18,49.76,49.76,0,0,0-4.85-2,1,1,0,0,1-.68-.94V7a7,7,0,0,0-7-7H55a7,7,0,0,0-7,7v8.93a1,1,0,0,1-.68.94,49.9,49.9,0,0,0-4.85,2,1,1,0,0,1-1.15-.18L35,12.38a7,7,0,0,0-9.9,0L12.38,25.11a7,7,0,0,0,0,9.9l6.31,6.31a1,1,0,0,1,.18,1.15,49.76,49.76,0,0,0-2,4.85,1,1,0,0,1-.94.68H7a7,7,0,0,0-7,7V73a7,7,0,0,0,7,7h8.93a1,1,0,0,1,.94.68,49.9,49.9,0,0,0,2,4.85,1,1,0,0,1-.18,1.15L12.38,93a7,7,0,0,0,0,9.9l12.73,12.73a7,7,0,0,0,9.9,0l6.31-6.31a1,1,0,0,1,1.15-.18,49.76,49.76,0,0,0,4.85,2,1,1,0,0,1,.68.94V121a7,7,0,0,0,7,7H73a7,7,0,0,0,7-7v-8.93a1,1,0,0,1,.68-.94,49.9,49.9,0,0,0,4.85-2,1,1,0,0,1,1.15.18L93,115.62a7,7,0,0,0,9.9,0l12.73-12.73a7,7,0,0,0,0-9.9l-6.31-6.31a1,1,0,0,1-.18-1.15,49.76,49.76,0,0,0,2-4.85,1,1,0,0,1,.94-.68H121a7,7,0,0,0,7-7V55A7,7,0,0,0,121,48Zm1,25a1,1,0,0,1-1,1h-8.93a7,7,0,0,0-6.6,4.69,43.9,43.9,0,0,1-1.76,4.26,7,7,0,0,0,1.35,8l6.31,6.31a1,1,0,0,1,0,1.41L98.65,111.38a1,1,0,0,1-1.41,0l-6.31-6.31a7,7,0,0,0-8-1.35,43.88,43.88,0,0,1-4.27,1.76,7,7,0,0,0-4.68,6.6V121a1,1,0,0,1-1,1H55a1,1,0,0,1-1-1v-8.93a7,7,0,0,0-4.69-6.6,43.9,43.9,0,0,1-4.26-1.76,7,7,0,0,0-8,1.35l-6.31,6.31a1,1,0,0,1-1.41,0L16.62,98.65a1,1,0,0,1,0-1.41l6.31-6.31a7,7,0,0,0,1.35-8,43.88,43.88,0,0,1-1.76-4.27A7,7,0,0,0,15.93,74H7a1,1,0,0,1-1-1V55a1,1,0,0,1,1-1h8.93a7,7,0,0,0,6.6-4.69,43.9,43.9,0,0,1,1.76-4.26,7,7,0,0,0-1.35-8l-6.31-6.31a1,1,0,0,1,0-1.41L29.35,16.62a1,1,0,0,1,1.41,0l6.31,6.31a7,7,0,0,0,8,1.35,43.88,43.88,0,0,1,4.27-1.76A7,7,0,0,0,54,15.93V7a1,1,0,0,1,1-1H73a1,1,0,0,1,1,1v8.93a7,7,0,0,0,4.69,6.6,43.9,43.9,0,0,1,4.26,1.76,7,7,0,0,0,8-1.35l6.31-6.31a1,1,0,0,1,1.41,0l12.73,12.73a1,1,0,0,1,0,1.41l-6.31,6.31a7,7,0,0,0-1.35,8,43.88,43.88,0,0,1,1.76,4.27,7,7,0,0,0,6.6,4.68H121a1,1,0,0,1,1,1Z"
            />
          </svg>
        </a>
        <ul id="settings_dropdown" class="dropdown-content dropdonw-settings">
          <li
            class="langitem
          "
          >
            <div class="form_radio_btn">
              <input
                id="radio-1"
                type="radio"
                name="radio"
                value="en"
                v-model="checked"
              />
              <label for="radio-1">EN</label>
            </div>

            <div class="form_radio_btn">
              <input
                id="radio-2"
                type="radio"
                name="radio"
                value="ua"
                v-model="checked"
              />
              <label for="radio-2">УКР</label>
            </div>

            <div class="form_radio_btn">
              <input
                id="radio-3"
                type="radio"
                name="radio"
                value="ru"
                v-model="checked"
              />
              <label for="radio-3">РУС</label>
            </div>
          </li>
          <li class="switch-theme">
            <div class="switch">
              <label>
                Light
                <input type="checkbox" />
                <span class="lever"></span>
                Dark
              </label>
            </div>
          </li>
        </ul>
      </div>
    </div>

    <!-- Modal Structure -->
    <Registrations />

    <Login />
  </header>
</template>

<script>
import messages from '../utils/messages'
import { mapGetters, mapActions } from 'vuex'
import Registrations from './modals/Registrations'
import Login from './modals/Login'
export default {
  data() {
    return {
      checked: 'en',
    }
  },
  computed: {
    ...mapGetters(['CART', 'info']),
    cartTotalCost() {
      let result = []
      if (this.CART.length) {
        for (let item of this.CART) {
          result.push(item.price * item.quantity)
        }

        result = result.reduce(function(sum, el) {
          return sum + el
        })

        return result
      } else {
        return 0
      }
    },
    cartTotalCount() {
      let count = []

      if (this.CART.length) {
        for (let item of this.CART) {
          count.push(item.quantity)
        }

        count = count.reduce(function(sum, el) {
          return sum + el
        })
        return count
      } else {
        return 0
      }
    },
    error() {
      return this.$store.getters.error
    },
  },
  mounted() {
    M.Dropdown.init(this.$refs.dropdown)
    M.Dropdown.init(this.$refs.settings_dropdown, { closeOnClick: false })
  },
  methods: {
    ...mapActions(['logout', 'changeLang']),
    async logout() {
      await this.$store.dispatch('logout')
      // this.$messages('Ви вийшли з системи')
    },
  },
  watch: {
    error(fbError) {
      this.$error(messages[fbError.code] || 'щось пішло не так')
    },
    checked() {
      this.changeLang(this.checked)
    },
  },
  components: {
    Registrations,
    Login,
    messages,
  },
}
</script>
